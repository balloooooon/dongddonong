import { useRef, useEffect } from "react";

import "./Home.css";
import image from "../assets/image.png";

const Home = () => {
  const content1Ref = useRef();
  const path1Ref = useRef();
  let path1Length;

  const calcDashoffset = (scrollY, element, length) => {
    const ratio = (scrollY - element.offsetTop) / element.offsetHeight;
    const value = length - length * ratio;

    console.log(ratio);

    return value < 0 ? 0 : value > length ? length : value;
  };
  const scrollHandler = () => {
    const scrollY = window.scrollY + window.innerHeight * 0.8;

    path1Ref.current.style.strokeDashoffset = calcDashoffset(
      scrollY,
      content1Ref.current,
      path1Length
    );
  };

  useEffect(() => {
    window.addEventListener("scroll", scrollHandler);

    const path1Element = path1Ref.current;

    if (path1Element) path1Length = path1Element.getTotalLength();

    path1Ref.current.style.strokeDasharray = path1Length;
    path1Ref.current.style.strokeDashoffset = calcDashoffset(
      window.innerHeight * 0.8,
      content1Ref.current,
      path1Length
    );
  }, []);

  return (
    <div className="relative">
      <div className="relative">
        <div className="ml-4 mr-4 mt-4 max-w-7xl">
          <div className="md:w-1/2">
            <h1 className="font-bold text-3xl mb-4">동또농</h1>
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Neque
              libero porro natus, omnis tenetur molestiae quibusdam, expedita
              sint tempore nostrum fugiat recusandae aliquid maxime in inventore
              voluptatem voluptatibus sunt. Sapiente.
            </p>
          </div>
        </div>
        <svg
          className="fill-none scale-150 -translate-x-1/4 -translate-y-1/4  md:scale-100 md:translate-x-0 md:translate-y-0"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 310.38 136.09"
        >
          <path
            className="path"
            d="m.16,111.51c7.72,2.54,14.17,4.54,19,6,4.24,1.28,7.15,2.13,11,3,2.87.65,6.76,1.54,11,2,1.87.2,9.86.99,20-1,1.88-.37,4.81-1.03,20-7,14.34-5.64,14.02-5.95,20-8,6.17-2.11,13.76-4.66,24-6,5.56-.73,15.18-1.52,27,0,9.45,1.22,16.47,3.54,24,6,6.57,2.14,11.7,4.24,16,6,2.47,1.01,5.13,2.14,18,8,11.92,5.43,16.13,7.42,23,10,8.6,3.23,3.17.54,14,4,1.81.58,4.05,1.32,7,1,1.2-.13,4.5-.49,7-3,2.09-2.1,2.47-4.54,3-8,0,0,.96-6.24-2-12-.11-.22-.41-.79-1-1-.4-.14-.76-.06-1,0-2.69.61-3.06.31-4,1-.52.38-.84.8-1,1-.69.9-.59,1.36-1,2-.92,1.43-2.55.91-3,2-.27.66.15,1.44,1,3,.6,1.1,1.05,1.65,2,3,1.1,1.57,1.66,2.36,2,3,.74,1.38,1.26,2.87,2,5,.44,1.26.66,2,1,2,.26,0,.46-.45,1-2,.61-1.74.91-2.6,1-3,.34-1.53.26-2.77,0-5-.35-3.08-.74-5.45-1-7-.65-3.85-1.12-4.62-1.09-5.43,0-.07.06-.28.09-.57.04-.37,0-.55,0-1-.02-.89.07-.83,0-1-.21-.53-.79-.47-1-1-.16-.4-.05-.78,0-1,.21-.95-.19-1.96-1-4-.26-.66-.67-1.6-1-3-.13-.54-.16-.82,0-1,.43-.47,2.08-.03,3,1,.38.43.2.47,1,2,.68,1.3.67,1.26,1,2,.45,1.01.7,2.04,1,3,.59,1.89.81,1.85,1,3,.13.83.21,1.36,0,2-.31.93-1.12,1.69-2,2-.77.27-.86,0-3,0-1.21,0-1.34.15-2,0-.89-.19-1.5-.63-2-1-1.15-.84-.94-1.12-2-2-.94-.78-1.35-.76-3-2-.86-.64-.96-.81-1-1-.19-.89,1.14-1.29,2-3,.75-1.49.18-2.05,1-3,.7-.8,1.97-1.4,3-1,.08.03.9.36,1,1,.13.84-1.03,1.71-2,2-.19.06-.76.21-2,0-1.29-.22-2.22-.63-3-1-2.01-.94-3.55-1.76-4-2-1.87-.98-2.82-1.48-4-2-2.64-1.16-4.82-1.71-6-2-.51-.13-2.83-.69-6-1-.61-.06-4.91-.48-5,0-.03.17.49.39,2,1,2.92,1.18,4.38,1.77,5,2,2.47.92,3.71,1.38,5,2,2.39,1.15,2.35,1.67,6,4,2.82,1.8,2.77,1.47,5,3,3.17,2.18,2.17,2.08,5,4,1.16.78,2.03,1.27,2,2-.03.74-.96,1.34-2,2-.75.48-1.34.86-2,1-1.75.38-3.15-1.04-6-3,0,0-2.23-1.52-5-3-.57-.3-3.22-1.7-7-3-2.96-1.02-2.66-.61-7-2-4.71-1.5-4.14-1.68-6-2-1.43-.24-2.34-.24-3-1-.82-.95-1.02-2.79,0-4,1.02-1.21,2.66-1.04,3-1,.14.01,2.13.26,3,2,.45.91.7,2.43,0,3-.61.5-1.75,0-4-1-2.64-1.18-3.96-1.77-5-3-.86-1.01-1.14-1.88-2-2-.73-.1-1.68.27-2,1-.14.32-.22.84,0,1,.28.2.84-.32,2-1,.98-.57,1.44-.71,2-1,1.67-.87,2.79-2.37,4-4,1.44-1.94,2.32-3.66,3-5,.52-1.03.95-1.99,2-4,.35-.67-.1.21,2-3,.41-.62.66-1.02,1-1,.54.03,1.02,1.09,1,2-.01.65-.29,1.59-1,2-1.58.91-4.3-1.41-5-2-1.92-1.63-2.78-3.5-3-4-.89-2.04-.94-3.89-1-6-.02-.76-.03-2.39,0-4,.03-1.51.06-1.59,0-2-.14-.99-.47-1.56-2-4-1.81-2.89-2.18-3.41-3-4-.4-.29-1.06-.75-2-1-1.27-.34-2.51-.09-5,1-1.37.6-3.69,1.71-7,4-3.01,2.08-3.68,2.96-4,4-.34,1.11-.19,2.07,0,3,1.02,5.07,3,9,3,9,2.25,4.02,3.87,6.94,5,9,.94,1.7,2.09,3.28,3,5,1.11,2.1,1.59,3.35,3,4,.28.13,1.84.84,3,0,.8-.58.95-1.59,1-2,.24-1.91-.88-3.51-2-5-2.25-2.98-4.19-5.11-5-6-4.66-5.12-5.49-6.27-6-7-1.65-2.4-1.03-2.07-3-5-1.35-2.01-2.58-3.55-3-6-.14-.8-.19-1.32,0-2,.49-1.76,2.23-2.65,5-4,2.44-1.19,4.64-1.89,5-2,3.17-.99,4.62-.97,5-2,.1-.28.1-.56-1-3-.98-2.16-1.46-3.24-2-4-1.06-1.49-2.09-2.29-3-3-.95-.74-1.59-1.22-2-1-.58.31-.45,1.88,0,3,.69,1.72,2.24,2.58,3,3,.26.14,1.4.8,3,1,.51.07.77.1,1,0,1.25-.53,1.09-3.46,1-5-.04-.75-.19-2.57-1-5-.56-1.67-1.59-4.11-2-4-.4.11-.07,2.48,0,3,.27,1.94.78,2.71,1,3,.04.05.04.04,1,1,.93.93.93.97,1,1,.22.11,3.9-2.17,6-7,.82-1.9.97-3.2,1-4,.06-1.76-.35-3.93-1-4-.28-.03-.52.32-1,1-.62.88-.84,1.61-1,2-.46,1.12-1.56,2.56-3,3-1.67.51-3.28-.54-4-1-.55-.35-1.35-.98-2-2-.21-.33-.81-1.35-1-3-.31-2.73.97-3.25,1-6,.03-2.14-.74-2.02-1-5-.25-2.94.34-4.92,0-5-.25-.06-.87.93-1,2-.13,1.08.34,1.48,0,2-.32.49-.83.29-2,1-.56.34-.99.61-1,1,0,.39.74.4,1,1,.15.34.07.68,0,1-.22.94-.81,1.12-1,2-.03.13-.1.54,0,1,.29,1.28,1.71,1.88,2,2,.33.14,1.9.8,3,0,.19-.14.68-.54,1-2,.33-1.49.13-2.46,0-4-.14-1.62-.27-3.2,0-5,.29-1.9.7-1.92,1-4,.19-1.29.37-2.54,0-4-.44-1.77-1.75-4.13-3-4-1.11.11-1.74,2.14-2,3-.23.74-.72,2.36,0,4,.5,1.13,1.55,2.2,2,2,.37-.16.23-1.1,0-3-.76-6.33-.59-7.33,0-8,.73-.83,1.85-.91,3-1,1.6-.12,2,.6,6,2,.42.15,1.28.43,3,1,2.3.76,2.48.8,3,1,1.9.72,2.33,1.83,4,2,.18.02.45.01,1,0,3.13-.07,4.02-.64,5,0,.56.37.41.65,1,1,1.18.7,2.72.11,3,0,1.16-.45,1.69-1.21,2-1,.21.14.2.65,0,1-.48.86-1.95.63-2,1-.04.3.92.81,2,1,1.65.29,2.87-.29,3,0,.09.2-.4.7-1,1-1.77.9-3.95-.15-4,0-.03.1.99.43,2,1,1.67.94,3.26,2.49,3,3-.21.42-1.62.09-2,0-2.48-.58-3.78-2.21-4-2-.2.19.57,1.89,2,3,.37.29.74.5,1,1,.42.79.35,1.87,0,2-.31.11-.62-.6-2-2-.81-.83-1.74-1.63-3-2-.59-.17-.84-.13-1,0-.34.28-.14.93,0,2,.18,1.34.22,2.95,0,3-.07.02-.19-.13-1-2-.67-1.54-.71-1.72-1-2-.73-.72-1.31-.4-2-1-.95-.82-.36-1.88-1-3-1.14-2-4.94-2-6-2-2.25,0-3.16.65-5,0-.44-.15-.96-.44-2-1-1.73-.94-2.59-1.4-3-2-1-1.46-.68-3.79,0-4,.6-.19,1.58,1.25,2,2,.28.49,1.01,1.94,1,6,0,2.9-.39,3.28,0,5,.26,1.16.46,1.09,1,3,.76,2.69.38,2.86,1,4,.78,1.42,1.58,1.52,2,3,.24.84.29,1.89,0,2-.24.09-.74-.45-1-1-.5-1.06-.03-2.08,1-5,1.06-2.99,1.11-3.43,1-4-.34-1.77-1.87-2.91-2-3-1.04-.75-2.03-.83-2-1,.04-.23,1.74-.12,4,0,5.26.28,6.06.22,7,1,.19.16.79,1.11,2,3,1.45,2.28,1.5,2.5,2,3,1.47,1.47,3.32,1.86,4,2,.78.16,3.55.7,6-1,2.19-1.52,2.74-3.87,3-5,.28-1.22.72-4.16-1-7-.35-.57-1.24-2.02-3-3-2.95-1.64-5.93-.59-6-1-.06-.38,2.47-1.71,5-1,1.31.37,2.11,1.15,3,2,.77.74,2.39,2.35,3,5,.19.84.51,2.29,0,4-.65,2.19-2.22,3.4-3,4-1.7,1.31-3.33,1.65-5,2-1.75.37-2.9.59-4,0-1.04-.56-.82-1.19-2-2-1.15-.78-2.37-.87-4-1-.99-.08-.83.03-3,0-2.15-.03-2.36-.14-3,0-1.71.38-2.77,1.71-3,2-2.12,2.65-1.16,6.41-1,7,.71,2.61,2.04,2.95,2,5-.03,1.46-.74,3.06-2,4-2.45,1.83-6.1.46-8-1-.51-.39-2.86-2.3-3-5-.06-1.13.29-1.82,0-2-.63-.38-3.2,2.28-5,5-3.05,4.6-3.79,9.14-4,11-.29,2.53-.13,4.46,0,6,.22,2.65.47,5.6,2,9,1.57,3.49,3.68,5.66,5,7,2.18,2.21,3.95,3.23,7,5,1.73,1,2.37,1.22,3,1,1.82-.65,1.93-4.48,2-7,.05-1.77.13-4.61-1-5-.81-.28-1.86.85-2,1-1.83,1.98-1.19,5.2-1,6,.4,1.71,1.22,3.01,5,7,3.6,3.81,4.33,3.52,6,6,1.68,2.5,2.81,5.48,3,6,.63,1.68,1.49,3.28,2,5,.12.42.34,1.22,1,2,.56.66,1.06.86,1,1-.12.29-2.69,0-3-1-.4-1.29,3.03-3.4,4-4,4.69-2.89,7.77-2.77,15-5,3.66-1.13,5.54-1.71,8-3,5.56-2.91,8.92-6.72,10-8,1.85-2.21,6.09-7.27,7-15,.27-2.29.89-10.32-4-16-.64-.75-3.15-3.65-5-3-1.8.63-1.97,4.25-2,5-.1,2.08.24,6.12,5,12,7.44,9.19,17.2,12.43,19,13,5.95,1.89,10.98,1.94,16,2,4.99.06,8.71.28,13-1,2.14-.64,3.84-1.41,5-2"
          />
        </svg>
        <div className="font-bold text-3xl absolute bottom-0 left-1/2 -translate-x-1/2 animate-bounce">
          ↓
        </div>
      </div>

      <div className="h-96"></div>

      <div className="content1 relative" ref={content1Ref}>
        <img
          className="grayscale -scale-x-100 w-full h-full absolute -z-10"
          src={image}
          alt=""
        />
        <svg
          className="svg1 fill-none stroke-white stroke-3 absolute"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 752.37 615.05"
        >
          <g>
            <path
              className="path1"
              ref={path1Ref}
              d="m121.52,103.02c-11.39-3.66-21.05-4.86-27.75-5.25-5.97-.35-13.51-.29-21.75,3-3.15,1.26-6.82,2.72-6.75,4.5.12,3.29,13.02,6.49,24.75,6.75,17.18.38,25.37-5.68,29.25-1.5,2.76,2.97.18,7.71-3,20.25-5.75,22.65-5.78,40.49-9,40.5-1.94,0-2.58-6.44-6-6.75-3-.27-4.24,4.55-7.5,4.5-3.88-.06-4.72-6.92-9-7.5-4.38-.6-7.13,6.09-9.75,5.25-2.54-.81-2.02-7.73-2.25-17.25-.39-15.91-.77-26.51-6.75-30.75-2.84-2.01-5.9-1.86-11.25-1.5-32.71,2.23-45.02,5.5-49.5,0-2.24-2.75-1.44-6.37-.75-11.25.27-1.89-.32-17.26-1.5-48C1.66,22.61-2.95,7.61,5.27,2.52c2.05-1.27,4.1-1.43,5.25-1.5C52.3-1.66,181.92,7.07,193.52,3.27c.54-.18,3.29-1.19,4.5,0,1.6,1.57-.45,6.03-.75,6.75,0,0-3.71,8.9-3,106.5,0,0-3.63,2.18-3.75,2.25-3.59,2.14-38.11-1.84-43.5,0-.22.07-1,.37-1.5,0-1.07-.78-.18-4.08.75-6,2.8-5.81,10.02-7.72,12-8.25,5.1-1.35,9.31-.88,10.5-.75,12.87,1.39,6.32-1.26,36,.75,21.43,1.45,27.84,3.03,33.75,5.25,8.85,3.32,11.94,6.31,13.5,9.75,2.23,4.92,2.07,12.41-3,17.25-5.01,4.78-12.42,4.69-17.25,2.25-8.51-4.31-12.06-17.5-6-26.25,6.47-9.34,20.53-6.54,23.25-6,2.77.56,10.33,2.07,12.75,7.5,1.12,2.52.34,4.08,0,12-.28,6.55.19,7.25,0,11.25-.42,8.91-3.04,12.36-5.25,21-3.75,14.65-4.37,18.3-2.25,21,1.19,1.52,3.01,2.55,3.75,5.25.83,3.01-.34,5.71-.75,6.75-2.65,6.74-2.71,18.17,0,24.75,2.79,6.77,6.95,4.64,16.5,15.75,5.3,6.16,10.15,13.95,9,15-.87.8-5.01-2.41-6.75-3.75-3.75-2.9-12.31-9.53-15-20.25-.28-1.1-.18-5.48,0-14.25.45-21.55,1.98-25.35.75-29.25-.12-.39-.57-1.73,0-3,.89-1.98,4.01-3.26,5.25-2.25,1.17.95.8,4.06-.75,5.25-2.3,1.77-8.04,0-9-3.75-.82-3.19,2.16-6.58,5.25-7.5,3.76-1.12,7.35,1.54,9,3.75,1.79,2.4,1.37,4.37,2.25,9,.71,3.74,1.72,6.24,3.75,11.25,3.27,8.08,7.44,14.01,9.75,17.25,4.87,6.84,6.99,7.96,8.25,12.75,1.15,4.38,1.05,9.86-.75,10.5-.73.26-2.18-.11-7.5-7.5-5.13-7.11-8.19-11.37-11.25-18.75-5.35-12.91-5.37-22.6-6.75-22.5-.98.07-1.59,5.03-1.5,9,.1,4.38,1.05,6.81,3.75,15.75,3.22,10.65,2.84,10.41,3.75,12,1.23,2.16,2.92,4.35,12,11.25,9.1,6.92,13.65,10.37,16.5,10.5,5.06.22,5.07-2.75,17.25-6,4.34-1.16,6.01-1.23,7.5-3,3-3.55,1.99-10.04-.75-14.25-.36-.55-4.39-6.59-9-6-3.69.47-4.41,4.76-9,5.25-2.58.27-4.82-.82-5.25,0-.42.79,1.62,1.91,1.5,3.75-.11,1.75-2.04,2.12-3,3.75-2.06,3.48,2.1,9.59,3.75,12,4.21,6.18,6.13,5.4,9,9.75,5.53,8.39,3.32,18.82,3,20.25-1.31,5.77-3.19,5.04-6,13.5-1.85,5.57-3.69,11.37-1.5,17.25,1.57,4.21,5.07,8.1,6.75,7.5,1.79-.64.18-5.87,1.5-13.5,1.2-6.93,3.47-8.06,6-15,1.27-3.49,7.15-19.63,0-27.75-3.8-4.33-11.12-6.18-14.25-3.75-1.03.8-1.17,1.72-2.25,6-2.94,11.68-3.91,12.9-4.5,13.5-3.11,3.15-9.42,4-12.75,1.5-4.58-3.44-2.23-12.26-4.5-12.75-1.8-.39-4.37,4.9-5.25,6.75-2.78,5.82-3.24,9.57-5.25,19.5,0,0-1.68,8.27-3,19.5-.34,2.89-.57,5.23.75,7.5,2.07,3.56,5.5,2.72,9.75,6,4.06,3.13,7.62,9.05,6.75,14.25-.79,4.7-4.52,4.68-5.25,9.75-.52,3.62,1.28,4.33,2.25,11.25.89,6.38-.46,7,.75,9,2.08,3.43,6.82,2.81,22.5,3.75,10.83.65,14.66,1.31,15.75-.75,1.22-2.3-2.75-4.64-4.5-11.25-1.59-6,.75-7.62.75-16.5,0-6.03,0-15.5-5.25-18.75-2.66-1.65-4.06-.07-12.75,0-6.07.05-6.15-.71-17.25-1.5-13.26-.95-15.29-.01-16.5.75-3.82,2.41-3.08,5.44-6.75,13.5-6.63,14.56-15.05,17.87-13.5,25.5.1.49,1.05,4.84,4.5,6.75,3.64,2.02,6.57-.6,15-.75,4.67-.09,8.38-.15,11.25,2.25,2.19,1.84,1.87,3.97,3.75,10.5.23.8,1.4,4.03,3.75,10.5,6.42,17.7,8.56,19.46,8.25,25.5-.18,3.5-1.29,10.51-4.5,11.25-3.68.85-6.12-7.5-15-17.25-12.86-14.13-23.44-13.86-25.5-24-.94-4.63-.07-11.25,4.5-14.25,5.09-3.34,13.24-1.19,15.75,3,1.79,2.99-.08,5.73,2.25,8.25,2.12,2.28,4.69,1.14,7.5,3,3.41,2.25,3.84,6.72,4.5,10.5.73,4.17,3.86,21.98,14.25,28.5,4.01,2.51,9.58,3.65,10.5,2.25,1.04-1.58-3.23-7.31-6-6.75-2.9.58-2.04,7.6-6.75,9.75-2.36,1.07-4.34.12-5.25,1.5-.96,1.46.67,3.39,1.5,6,2.59,8.16-5.18,15.12-2.25,18.75,1.42,1.76,4.36,1.51,4.5,1.5,4.41-.43,7-6,15.75-23.25,3.79-7.47,4.71-9.2,6.75-9.75,6.8-1.82,14,15.41,17.25,14.25,3.83-1.36.89-20.15-3-31.5-.47-1.38-.91-2.5-1.5-3.75-4.07-8.6-10.19-7.78-13.5-15-1.62-3.54-2.97-6.48-2.25-9.75.21-.94.66-2.24,0-3-.9-1.03-3.19-.32-4.5,0-7.94,1.95-11.83-2.49-15,0-2.9,2.28-2.5,8.21-.75,12,2.47,5.35,8.7,8.8,10.5,7.5,1.02-.73.92-3.22,0-3.75-1.31-.75-5.15,1.89-5.25,4.5-.08,2.26,2.67,3.91,4.5,5.25,3,2.2,5.75,6.72,11.25,15.75,9.2,15.11,4.75,17.26,14.25,36,2.69,5.31,5.31,9.59,3.75,14.25-1.76,5.24-7.95,8.4-9,7.5-.84-.72,2.11-3.54,3-9.75.71-4.94-.71-6.27.75-8.25,2.28-3.1,6.77-1.25,9-4.5,1.66-2.43-.05-4.62,1.5-6,2.55-2.26,10.52.69,11.25,4.5.35,1.83-1.24,2.43-1.5,6-.2,2.82.7,3.74,0,5.25-1,2.15-3.94,2.65-5.25,3-6.73,1.8-12.35,10.09-12,13.5.7,6.71,26.57,12.33,52.88,10.88,36.53-2.02,83.53-18.24,84-38.25.25-10.55-9.51-22.07-19.5-23.25-16.43-1.94-36.68,23.63-32.25,39,5.65,19.58,53.16,28.83,92.25,21,41.89-8.39,50.64-31.68,82.5-33,32.27-1.34,56.51,21.25,80.25,42.75,44.2,40.03,66.5,88.51,78,125.25"
            />
          </g>
        </svg>
        <svg
          className="invisible"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 752.37 615.05"
        ></svg>
      </div>
      <div className="h-screen bg-black relative"></div>
    </div>
  );
};

export default Home;
